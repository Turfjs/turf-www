"use strict";(self.webpackChunkturf_www=self.webpackChunkturf_www||[]).push([[1459],{66564:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>d,contentTitle:()=>l,default:()=>h,frontMatter:()=>r,metadata:()=>o,toc:()=>c});var t=s(74848),i=s(28453);const r={},l="Contributing",o={id:"contributing",title:"Contributing",description:"How to report a bug",source:"@site/docs/contributing.md",sourceDirName:".",slug:"/contributing",permalink:"/docs/next/contributing",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/contributing.md",tags:[],version:"current",frontMatter:{},sidebar:"docsSidebar",previous:{title:"Upgrade Guide",permalink:"/docs/next/upgrade-guide"}},d={},c=[{value:"\ud83d\udc1b How to report a bug",id:"bug-how-to-report-a-bug",level:3},{value:"Please note",id:"please-note",level:2},{value:"How To Contribute",id:"how-to-contribute",level:2},{value:"Code Style",id:"code-style",level:2},{value:"Structure of a turf module",id:"structure-of-a-turf-module",level:2},{value:"Publishing",id:"publishing",level:2},{value:"Documentation",id:"documentation",level:2},{value:"Examples",id:"examples",level:3},{value:"Other Dependencies",id:"other-dependencies",level:2},{value:"Financial contributions",id:"financial-contributions",level:2}];function a(e){const n={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h1,{id:"contributing",children:"Contributing"}),"\n",(0,t.jsxs)(n.h3,{id:"bug-how-to-report-a-bug",children:["\ud83d\udc1b"," ",(0,t.jsx)(n.a,{href:"http://polite.technology/reportabug.html",children:"How to report a bug"})]}),"\n",(0,t.jsx)(n.h2,{id:"please-note",children:"Please note"}),"\n",(0,t.jsxs)(n.p,{children:["The high-level structure of Turf is undergoing discussion at ",(0,t.jsx)(n.a,{href:"https://github.com/Turfjs/turf/issues/1428",children:"#1428"}),". Currently (June 2018), there is a partial conversion to Typescript, and the contribution documentation does not completely reflect the current status."]}),"\n",(0,t.jsx)(n.h2,{id:"how-to-contribute",children:"How To Contribute"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Most work happens in sub modules. These are found in the ",(0,t.jsx)(n.code,{children:"packages"}),' directory prefixed with "turf-".']}),"\n",(0,t.jsx)(n.li,{children:"If you would like to propose a new feature, open an issue in Turfjs/turf."}),"\n",(0,t.jsxs)(n.li,{children:["Always include tests. We use ",(0,t.jsx)(n.a,{href:"https://github.com/substack/tape",children:"tape"}),"."]}),"\n",(0,t.jsx)(n.li,{children:"Turf modules are small, containing a single exported function."}),"\n",(0,t.jsx)(n.li,{children:"GeoJSON is the lingua franca of Turf. It should be used as the data structure for anything that can be represented as geography."}),"\n",(0,t.jsx)(n.li,{children:"Avoid large dependencies at all costs."}),"\n",(0,t.jsx)(n.li,{children:"Turf is used in a wide range of places. Make sure that your code can run in the browser (ie: don't make calls to external services, don't hit the filesystem, etc.)."}),"\n",(0,t.jsxs)(n.li,{children:["The ",(0,t.jsx)(n.code,{children:"README.md"})," files in ",(0,t.jsx)(n.code,{children:"packages/turf-<module>"})," are automatically generated from the ",(0,t.jsx)(n.a,{href:"https://jsdoc.app",children:"JSDocs"})," of the ",(0,t.jsx)(n.code,{children:"index.js"}),". Please modify the JSDocs instead of modifying the ",(0,t.jsx)(n.code,{children:"README.md"})," files directly. Then update/create the ",(0,t.jsx)(n.code,{children:"README.md"})," executing ",(0,t.jsx)(n.a,{href:"https://github.com/Turfjs/turf/blob/master/scripts/generate-readmes",children:(0,t.jsx)(n.code,{children:"./scripts/generate-readmes"})})," or runing ",(0,t.jsx)(n.code,{children:"npm run docs"})," from the root TurfJS directory."]}),"\n",(0,t.jsxs)(n.li,{children:["Finally run ",(0,t.jsx)(n.code,{children:"npm test"})," from the project root folder to run all the tests required for deploying the project."]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"code-style",children:"Code Style"}),"\n",(0,t.jsxs)(n.p,{children:["To ensure code style, at the ",(0,t.jsx)(n.code,{children:"turf"})," root level run"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"$ npm run lint\n"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Follow the ",(0,t.jsx)(n.a,{href:"https://github.com/airbnb/javascript",children:"AirBNB JavaScript code style"}),"."]}),"\n",(0,t.jsx)(n.li,{children:"Turf aims to use ES5 features where rational. We do not use ES6 features."}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"structure-of-a-turf-module",children:"Structure of a turf module"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"turf-<MODULE NAME>\n\u2502   index.js\n\u2502   index.d.ts\n\u2502   bench.js\n\u2502   test.js\n\u2502   types.ts\n\u2502   package.json\n\u2502   README.md\n\u2502   LICENSE\n\u2502\n\u2514\u2500\u2500\u2500test\n    \u2502\n    \u251c\u2500\u2500\u2500in\n    \u2502   points.geojson\n    \u2502\n    \u2514\u2500\u2500\u2500out\n        points.geojson\n"})}),"\n",(0,t.jsx)(n.p,{children:"To get started with a new module navigate to the root directory and run"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"$ node ./scripts/create-new-module <MODULE NAME>\n"})}),"\n",(0,t.jsxs)(n.p,{children:["it will create a new folder inside ",(0,t.jsx)(n.code,{children:"packages"})," with a simple boilerplate for your module."]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"index.js"})," - This file contains, in order, the various modules you need to\nimport, the ",(0,t.jsx)(n.a,{href:"https://jsdoc.app",children:"JSDocs"})," documentation, and, finally, the\nsingle exported function that the module provides. For more on the types\nsupported in the documentation, see\u2026"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"index.d.ts"})," - This is a ",(0,t.jsx)(n.a,{href:"https://www.typescriptlang.org/",children:"TypeScript"})," file\nthat describes your function\u2019s signature. For more on the types supported in\nTypeScript, see\u2026"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"bench.js"})," - This file uses ",(0,t.jsx)(n.a,{href:"https://benchmarkjs.com/",children:"Benchmark"})," to time\nyour function."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"test.js"})," - This file includes your ",(0,t.jsx)(n.a,{href:"https://github.com/substack/tape",children:"tape"}),"\ntests. We prefer dynamic testing built from GeoJSON files placed in\n",(0,t.jsx)(n.code,{children:"./test/in"})," that are subsequently written to ",(0,t.jsx)(n.code,{children:"./test/out"})," if your ",(0,t.jsx)(n.code,{children:"REGEN"}),"\n",(0,t.jsx)(n.a,{href:"https://askubuntu.com/a/58828",children:"environment variable is set"})," to ",(0,t.jsx)(n.code,{children:"true"}),". If\n",(0,t.jsx)(n.code,{children:"REGEN"})," is set to a different value, then running ",(0,t.jsx)(n.code,{children:"npm t"})," will compare the\noutput of the tests to the files already present in ",(0,t.jsx)(n.code,{children:"./test/out"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"types.ts"})," - A file that lists the custom TypeScript types used in\n",(0,t.jsx)(n.code,{children:"index.d.ts"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"package.json"})," - The ",(0,t.jsx)(n.a,{href:"http://nodejs.org",children:"node"})," metadata container file.\nModules imported in ",(0,t.jsx)(n.code,{children:"index.js"})," should be listed here under ",(0,t.jsx)(n.code,{children:"dependencies"}),",\nand modules used in ",(0,t.jsx)(n.code,{children:"test.js"})," and/or ",(0,t.jsx)(n.code,{children:"bench.js"})," should be listed under\n",(0,t.jsx)(n.code,{children:"devDependencies"}),". ",(0,t.jsx)(n.code,{children:"npm install"})," looks to this file to install dependencies\nin ",(0,t.jsx)(n.code,{children:"./node_modules"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"README.md"})," - This README is generated ",(0,t.jsx)(n.em,{children:"automatically"})," by running ",(0,t.jsx)(n.code,{children:"npm run docs"})," from the project root level. ",(0,t.jsx)(n.strong,{children:"DO NOT edit this file"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"LICENCE"})," - Like the README, this file should not be edited."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"test/"})," - This directory holds the GeoJSON files that provide data for\ndynamic tests (in ",(0,t.jsx)(n.code,{children:"./test/in"}),") and the results of the tests (in\n",(0,t.jsx)(n.code,{children:"./test/out"}),"). The files in ",(0,t.jsx)(n.code,{children:"./test/out"})," should ",(0,t.jsx)(n.strong,{children:"not"})," be edited by hand.\nThey should be generated dynamically by ",(0,t.jsx)(n.a,{href:"https://askubuntu.com/a/58828",children:"setting the environment\nvariable"})," ",(0,t.jsx)(n.code,{children:"REGEN"})," to ",(0,t.jsx)(n.code,{children:"true"}),", and then the\ntests should be checked against these files by setting ",(0,t.jsx)(n.code,{children:"REGEN"})," to some other\nvalue. The resulting out-files can be drag-dropped into\n",(0,t.jsx)(n.a,{href:"http://geojson.io",children:"geojson.io"})," to see, visually, if the module is behaving\nappropriately."]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"publishing",children:"Publishing"}),"\n",(0,t.jsx)(n.p,{children:"Install lerna:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"$ npm install -g lerna@2.0.0-beta.34\n"})}),"\n",(0,t.jsx)(n.p,{children:"Publish a test release:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"$ lerna publish --canary\n"})}),"\n",(0,t.jsx)(n.h2,{id:"documentation",children:"Documentation"}),"\n",(0,t.jsxs)(n.p,{children:["To update TurfJS's Documentation (README.md) use the following ",(0,t.jsx)(n.code,{children:"npm run docs"}),":"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"inside a module:"})," will only generate the docs of that module."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"main folder:"})," will generate docs for all modules."]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"examples",children:"Examples"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsxs)(n.strong,{children:["Only builds docs for ",(0,t.jsx)(n.code,{children:"@turf/center"})]})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"$ cd ./turf/packages/turf-center\n$ npm run docs\n\n> @turf/center@5.0.4 docs /Users/mac/Github/turf/packages/turf-center\n> node ../../scripts/generate-readmes\n\nBuilding Docs: @turf/center\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Builds docs for all modules"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"$ cd ./turf\n$ npm run docs\n> @5.0.0 docs /Users/mac/Github/turf\n> node ./scripts/generate-readmes\n\nBuilding Docs: @turf/along\nBuilding Docs: @turf/area\nBuilding Docs: @turf/bbox-clip\nBuilding Docs: @turf/bbox-polygon\nBuilding Docs: @turf/bbox\nBuilding Docs: @turf/bearing\nBuilding Docs: @turf/bezier-spline\nBuilding Docs: @turf/boolean-clockwise\n....\n"})}),"\n",(0,t.jsx)(n.h2,{id:"other-dependencies",children:"Other Dependencies"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Turf uses ",(0,t.jsx)(n.a,{href:"https://yarnpkg.com",children:"Yarn"})," and ",(0,t.jsx)(n.a,{href:"https://lerna.js.org",children:"lerna"})," during the testing, packaging and publishing process.","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Lerna will be automatically installed when you run ",(0,t.jsx)(n.code,{children:"npm install"})," in the root directory."]}),"\n",(0,t.jsx)(n.li,{children:"Yarn will need to be installed on your computer, installers are available via the yarn website."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"financial-contributions",children:"Financial contributions"}),"\n",(0,t.jsxs)(n.p,{children:["We also welcome financial contributions in full transparency on our ",(0,t.jsx)(n.a,{href:"https://opencollective.com/turf",children:"open collective"}),'.\nAnyone can file an expense. If the expense makes sense for the development of the community, it will be "merged" in the ledger of our open collective by the core contributors and the person who filed the expense will be reimbursed.']})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(a,{...e})}):a(e)}}}]);