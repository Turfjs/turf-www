"use strict";(self.webpackChunkturf_www=self.webpackChunkturf_www||[]).push([[57743],{10200:(e,t,r)=>{r.d(t,{m:()=>u});const n=function(e,t){for(var r=0,n=0,o=0,a=0,i=0,u=0,s=0,c=0,l=null,h=null,f=e[0],p=e[1],m=t.length;r<m;r++){n=0;var y=t[r].length-1,d=t[r];if((l=d[0])[0]!==d[y][0]&&l[1]!==d[y][1])throw new Error("First and last coordinates in a ring must be the same");for(i=l[0]-f,u=l[1]-p;n<y;n++)if(c=(h=d[n+1])[1]-p,u<0&&c<0||u>0&&c>0)u=c,i=(l=h)[0]-f;else{if(s=h[0]-e[0],c>0&&u<=0){if((a=i*c-s*u)>0)o+=1;else if(0===a)return 0}else if(u>0&&c<=0){if((a=i*c-s*u)<0)o+=1;else if(0===a)return 0}else if(0===c&&u<0){if(0===(a=i*c-s*u))return 0}else if(0===u&&c<0){if(0===(a=i*c-s*u))return 0}else if(0===u&&0===c){if(s<=0&&i>=0)return 0;if(i<=0&&s>=0)return 0}l=h,u=c,i=s}}return o%2!=0};var o=r(83490),a=Object.defineProperty,i=(e,t)=>a(e,"name",{value:t,configurable:!0});function u(e,t,r={}){if(!e)throw new Error("point is required");if(!t)throw new Error("polygon is required");const a=(0,o.uG)(e),i=(0,o.bg)(t),u=i.type,c=t.bbox;let l=i.coordinates;if(c&&!1===s(a,c))return!1;"Polygon"===u&&(l=[l]);let h=!1;for(var f=0;f<l.length;++f){const e=n(a,l[f]);if(0===e)return!r.ignoreBoundary;e&&(h=!0)}return h}function s(e,t){return t[0]<=e[0]&&t[1]<=e[1]&&t[2]>=e[0]&&t[3]>=e[1]}i(u,"booleanPointInPolygon"),i(s,"inBBox")},51177:(e,t,r)=>{r.d(t,{r:()=>a});var n=r(63399),o=r(67149);function a(e,t={}){let r=0,a=0,i=0;return(0,n.kX)(e,(function(e,u,s){let c=t.weight?null==s?void 0:s[t.weight]:void 0;if(c=null==c?1:c,!(0,o.Et)(c))throw new Error("weight value must be a number for feature index "+u);c=Number(c),c>0&&(0,n.Fh)(e,(function(e){r+=e[0]*c,a+=e[1]*c,i+=c}))})),(0,o.zx)([r/i,a/i],t.properties,t)}(0,Object.defineProperty)(a,"name",{value:"centerMean",configurable:!0})},79204:(e,t,r)=>{r.d(t,{v:()=>a});var n=r(67149),o=r(63399);function a(e,t={}){let r=0,a=0,i=0;return(0,o.Fh)(e,(function(e){r+=e[0],a+=e[1],i++}),!0),(0,n.zx)([r/i,a/i],t.properties)}(0,Object.defineProperty)(a,"name",{value:"centroid",configurable:!0})},53257:(e,t,r)=>{r.d(t,{Rd:()=>u,o8:()=>a});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0});function a(e){if(!e)throw new Error("geojson is required");switch(e.type){case"Feature":return i(e);case"FeatureCollection":return s(e);case"Point":case"LineString":case"Polygon":case"MultiPoint":case"MultiLineString":case"MultiPolygon":case"GeometryCollection":return c(e);default:throw new Error("unknown GeoJSON type")}}function i(e){const t={type:"Feature"};return Object.keys(e).forEach((r=>{switch(r){case"type":case"properties":case"geometry":return;default:t[r]=e[r]}})),t.properties=u(e.properties),null==e.geometry?t.geometry=null:t.geometry=c(e.geometry),t}function u(e){const t={};return e?(Object.keys(e).forEach((r=>{const n=e[r];"object"==typeof n?null===n?t[r]=null:Array.isArray(n)?t[r]=n.map((e=>e)):t[r]=u(n):t[r]=n})),t):t}function s(e){const t={type:"FeatureCollection"};return Object.keys(e).forEach((r=>{switch(r){case"type":case"features":return;default:t[r]=e[r]}})),t.features=e.features.map((e=>i(e))),t}function c(e){const t={type:e.type};return e.bbox&&(t.bbox=e.bbox),"GeometryCollection"===e.type?(t.geometries=e.geometries.map((e=>c(e))),t):(t.coordinates=l(e.coordinates),t)}function l(e){const t=e;return"object"!=typeof t[0]?t.slice():t.map((e=>l(e)))}o(a,"clone"),o(i,"cloneFeature"),o(u,"cloneProperties"),o(s,"cloneFeatureCollection"),o(c,"cloneGeometry"),o(l,"deepSlice")},24240:(e,t,r)=>{r.d(t,{p:()=>c});var n=r(67149),o=r(89783),a=r(72440),i=r(83490),u=Object.defineProperty,s=(e,t)=>u(e,"name",{value:t,configurable:!0});function c(e,t,r,u){const s=(u=u||{}).steps||64,c=u.units||"kilometers",h=u.angle||0,f=u.pivot||e,p=u.properties||{};if(!e)throw new Error("center is required");if(!t)throw new Error("xSemiAxis is required");if(!r)throw new Error("ySemiAxis is required");if(!(0,n.Gv)(u))throw new Error("options must be an object");if(!(0,n.Et)(s))throw new Error("steps must be a number");if(!(0,n.Et)(h))throw new Error("angle must be a number");const m=(0,i.uG)(e);if("degrees"!==c){const n=(0,o.r)(e,t,90,{units:c}),a=(0,o.r)(e,r,0,{units:c});t=(0,i.uG)(n)[0]-m[0],r=(0,i.uG)(a)[1]-m[1]}const y=[];for(let o=0;o<s;o+=1){const e=-360*o/s;let a=t*r/Math.sqrt(Math.pow(r,2)+Math.pow(t,2)*Math.pow(l(e),2)),i=t*r/Math.sqrt(Math.pow(t,2)+Math.pow(r,2)/Math.pow(l(e),2));if(e<-90&&e>=-270&&(a=-a),e<-180&&e>=-360&&(i=-i),"degrees"===c){const e=(0,n.tR)(h),t=a*Math.cos(e)+i*Math.sin(e),r=i*Math.cos(e)-a*Math.sin(e);a=t,i=r}y.push([a+m[0],i+m[1]])}return y.push(y[0]),"degrees"===c?(0,n.n1)([y],p):(0,a.q)((0,n.n1)([y],p),h,{pivot:f})}function l(e){const t=e*Math.PI/180;return Math.tan(t)}s(c,"ellipse"),s(l,"getTanDeg")},83490:(e,t,r)=>{r.d(t,{$R:()=>u,Pw:()=>h,bg:()=>l,iw:()=>c,mo:()=>s,uG:()=>i});var n=r(67149),o=Object.defineProperty,a=(e,t)=>o(e,"name",{value:t,configurable:!0});function i(e){if(!e)throw new Error("coord is required");if(!Array.isArray(e)){if("Feature"===e.type&&null!==e.geometry&&"Point"===e.geometry.type)return[...e.geometry.coordinates];if("Point"===e.type)return[...e.coordinates]}if(Array.isArray(e)&&e.length>=2&&!Array.isArray(e[0])&&!Array.isArray(e[1]))return[...e];throw new Error("coord must be GeoJSON Point or an Array of numbers")}function u(e){if(Array.isArray(e))return e;if("Feature"===e.type){if(null!==e.geometry)return e.geometry.coordinates}else if(e.coordinates)return e.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function s(e,t,r){if(!e)throw new Error("No feature passed");if(!r)throw new Error(".featureOf() requires a name");if(!e||"Feature"!==e.type||!e.geometry)throw new Error("Invalid input to "+r+", Feature with geometry required");if(!e.geometry||e.geometry.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+e.geometry.type)}function c(e,t,r){if(!e)throw new Error("No featureCollection passed");if(!r)throw new Error(".collectionOf() requires a name");if(!e||"FeatureCollection"!==e.type)throw new Error("Invalid input to "+r+", FeatureCollection required");for(const n of e.features){if(!n||"Feature"!==n.type||!n.geometry)throw new Error("Invalid input to "+r+", Feature with geometry required");if(!n.geometry||n.geometry.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+n.geometry.type)}}function l(e){return"Feature"===e.type?e.geometry:e}function h(e,t){return"FeatureCollection"===e.type?"FeatureCollection":"GeometryCollection"===e.type?"GeometryCollection":"Feature"===e.type&&null!==e.geometry?e.geometry.type:e.type}a(i,"getCoord"),a(u,"getCoords"),a((function e(t){if(t.length>1&&(0,n.Et)(t[0])&&(0,n.Et)(t[1]))return!0;if(Array.isArray(t[0])&&t[0].length)return e(t[0]);throw new Error("coordinates must only contain numbers")}),"containsNumber"),a((function(e,t,r){if(!t||!r)throw new Error("type and name required");if(!e||e.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+e.type)}),"geojsonType"),a(s,"featureOf"),a(c,"collectionOf"),a(l,"getGeom"),a(h,"getType")},46244:(e,t,r)=>{r.d(t,{n:()=>i});var n=r(10200),o=r(67149),a=r(63399);function i(e,t){const r=[];return(0,a.us)(e,(function(e){let i=!1;if("Point"===e.geometry.type)(0,a.kX)(t,(function(t){(0,n.m)(e,t)&&(i=!0)})),i&&r.push(e);else{if("MultiPoint"!==e.geometry.type)throw new Error("Input geometry must be a Point or MultiPoint");var u=[];(0,a.kX)(t,(function(t){(0,a.Fh)(e,(function(e){(0,n.m)(e,t)&&(i=!0,u.push(e))}))})),i&&r.push((0,o.kB)(u,e.properties))}})),(0,o.Lr)(r)}(0,Object.defineProperty)(i,"name",{value:"pointsWithinPolygon",configurable:!0})},84245:(e,t,r)=>{r.d(t,{_e:()=>s});var n=r(67149),o=Object.defineProperty,a=(e,t)=>o(e,"name",{value:t,configurable:!0});function i(e){return Array.isArray(e)?p(e):e&&e.bbox?p(e.bbox):[h(),f()]}function u(e){null!=e&&(Array.isArray(e)?(0,n.O6)(e):null!=e.bbox&&(0,n.O6)(e.bbox))}function s(e,t={}){u(t.bbox),null==e&&(e=1);const r=[];for(let o=0;o<e;o++)r.push((0,n.zx)(i(t.bbox)));return(0,n.Lr)(r)}function c(e){return t=>[t[0]+e[0],t[1]+e[1]]}function l(){return Math.random()-.5}function h(){return 360*l()}function f(){return 180*l()}function p(e){return[Math.random()*(e[2]-e[0])+e[0],Math.random()*(e[3]-e[1])+e[1]]}a((function(e){return u(e),i(e)}),"randomPosition"),a(i,"randomPositionUnchecked"),a(u,"checkBBox"),a(s,"randomPoint"),a((function(e,t={}){u(t.bbox),null==e&&(e=1),(0,n.Et)(t.num_vertices)&&void 0!==t.num_vertices||(t.num_vertices=10),(0,n.Et)(t.max_radial_length)&&void 0!==t.max_radial_length||(t.max_radial_length=10);const r=[];for(let o=0;o<e;o++){let e=[];const o=[...Array(t.num_vertices+1)].map(Math.random);o.forEach(((e,t,r)=>{r[t]=t>0?e+r[t-1]:e})),o.forEach((r=>{r=2*r*Math.PI/o[o.length-1];const n=Math.random();e.push([n*(t.max_radial_length||10)*Math.sin(r),n*(t.max_radial_length||10)*Math.cos(r)])})),e[e.length-1]=e[0],e=e.map(c(i(t.bbox))),r.push((0,n.n1)([e]))}return(0,n.Lr)(r)}),"randomPolygon"),a((function(e,t={}){if(t=t||{},!(0,n.Gv)(t))throw new Error("options is invalid");const r=t.bbox;u(r);let o=t.num_vertices,a=t.max_length,s=t.max_rotation;null==e&&(e=1),(!(0,n.Et)(o)||void 0===o||o<2)&&(o=10),(0,n.Et)(a)&&void 0!==a||(a=1e-4),(0,n.Et)(s)&&void 0!==s||(s=Math.PI/8);const c=[];for(let u=0;u<e;u++){const e=[i(r)];for(let t=0;t<o-1;t++){const r=(0===t?2*Math.random()*Math.PI:Math.tan((e[t][1]-e[t-1][1])/(e[t][0]-e[t-1][0])))+(Math.random()-.5)*s*2,n=Math.random()*a;e.push([e[t][0]+n*Math.cos(r),e[t][1]+n*Math.sin(r)])}c.push((0,n.wi)(e))}return(0,n.Lr)(c)}),"randomLineString"),a(c,"vertexToCoordinate"),a(l,"rnd"),a(h,"lon"),a(f,"lat"),a(p,"coordInBBox")},86137:(e,t,r)=>{r.d(t,{F:()=>u});var n=r(67149),o=r(83490),a=Object.defineProperty,i=(e,t)=>a(e,"name",{value:t,configurable:!0});function u(e,t,r={}){let n;n=r.final?s((0,o.uG)(t),(0,o.uG)(e)):s((0,o.uG)(e),(0,o.uG)(t));return n>180?-(360-n):n}function s(e,t){const r=(0,n.tR)(e[1]),o=(0,n.tR)(t[1]);let a=(0,n.tR)(t[0]-e[0]);a>Math.PI&&(a-=2*Math.PI),a<-Math.PI&&(a+=2*Math.PI);const i=Math.log(Math.tan(o/2+Math.PI/4)/Math.tan(r/2+Math.PI/4)),u=Math.atan2(a,i);return((0,n.nv)(u)+360)%360}i(u,"rhumbBearing"),i(s,"calculateRhumbBearing")},89783:(e,t,r)=>{r.d(t,{r:()=>u});var n=r(67149),o=r(83490),a=Object.defineProperty,i=(e,t)=>a(e,"name",{value:t,configurable:!0});function u(e,t,r,a={}){const i=t<0;let u=(0,n.I3)(Math.abs(t),a.units,"meters");i&&(u=-Math.abs(u));const c=(0,o.uG)(e),l=s(c,u,r);return l[0]+=l[0]-c[0]>180?-360:c[0]-l[0]>180?360:0,(0,n.zx)(l,a.properties)}function s(e,t,r,o){const a=t/(o=void 0===o?n.zX:Number(o)),i=e[0]*Math.PI/180,u=(0,n.tR)(e[1]),s=(0,n.tR)(r),c=a*Math.cos(s);let l=u+c;Math.abs(l)>Math.PI/2&&(l=l>0?Math.PI-l:-Math.PI-l);const h=Math.log(Math.tan(l/2+Math.PI/4)/Math.tan(u/2+Math.PI/4)),f=Math.abs(h)>1e-11?c/h:Math.cos(u);return[(180*(i+a*Math.sin(s)/f)/Math.PI+540)%360-180,180*l/Math.PI]}i(u,"rhumbDestination"),i(s,"calculateRhumbDestination")},82:(e,t,r)=>{r.d(t,{E:()=>u});var n=r(67149),o=r(83490),a=Object.defineProperty,i=(e,t)=>a(e,"name",{value:t,configurable:!0});function u(e,t,r={}){const a=(0,o.uG)(e),i=(0,o.uG)(t);i[0]+=i[0]-a[0]>180?-360:a[0]-i[0]>180?360:0;const u=s(a,i);return(0,n.I3)(u,"meters",r.units)}function s(e,t,r){const o=r=void 0===r?n.zX:Number(r),a=e[1]*Math.PI/180,i=t[1]*Math.PI/180,u=i-a;let s=Math.abs(t[0]-e[0])*Math.PI/180;s>Math.PI&&(s-=2*Math.PI);const c=Math.log(Math.tan(i/2+Math.PI/4)/Math.tan(a/2+Math.PI/4)),l=Math.abs(c)>1e-11?u/c:Math.cos(a);return Math.sqrt(u*u+l*l*s*s)*o}i(u,"rhumbDistance"),i(s,"calculateRhumbDistance")},61139:(e,t,r)=>{r.d(t,{C:()=>h});var n=r(63399),o=r(83490),a=r(67149),i=r(51177),u=r(46244),s=r(24240),c=Object.defineProperty,l=(e,t)=>c(e,"name",{value:t,configurable:!0});function h(e,t){if(t=t||{},!(0,a.Gv)(t))throw new Error("options is invalid");var r=t.steps||64,c=t.weight,l=t.properties||{};if(!(0,a.Et)(r))throw new Error("steps must be a number");if(!(0,a.Gv)(l))throw new Error("properties must be a number");var h=(0,n.D3)(e).length,p=(0,i.r)(e,{weight:c}),m=0,y=0,d=0;(0,n.us)(e,(function(e){var t=e.properties[c]||1,r=f((0,o.$R)(e),(0,o.$R)(p));m+=Math.pow(r.x,2)*t,y+=Math.pow(r.y,2)*t,d+=r.x*r.y*t}));var g=m-y,w=Math.sqrt(Math.pow(g,2)+4*Math.pow(d,2)),b=2*d,M=Math.atan((g+w)/b),v=180*M/Math.PI,P=0,E=0,x=0;(0,n.us)(e,(function(e){var t=e.properties[c]||1,r=f((0,o.$R)(e),(0,o.$R)(p));P+=Math.pow(r.x*Math.cos(M)-r.y*Math.sin(M),2)*t,E+=Math.pow(r.x*Math.sin(M)+r.y*Math.cos(M),2)*t,x+=t}));var I=Math.sqrt(2*P/x),F=Math.sqrt(2*E/x),G=(0,s.p)(p,I,F,{units:"degrees",angle:v,steps:r,properties:l}),O=(0,u.n)(e,(0,a.Lr)([G])),A={meanCenterCoordinates:(0,o.$R)(p),semiMajorAxis:I,semiMinorAxis:F,numberOfFeatures:h,angle:v,percentageWithinEllipse:100*(0,n.D3)(O).length/h};return G.properties.standardDeviationalEllipse=A,G}function f(e,t){return{x:e[0]-t[0],y:e[1]-t[1]}}l(h,"standardDeviationalEllipse"),l(f,"getDeviations")},72440:(e,t,r)=>{r.d(t,{q:()=>h});var n=r(79204),o=r(86137),a=r(82),i=r(89783),u=r(53257),s=r(63399),c=r(83490),l=r(67149);function h(e,t,r){if(r=r||{},!(0,l.Gv)(r))throw new Error("options is invalid");var h=r.pivot,f=r.mutate;if(!e)throw new Error("geojson is required");if(null==t||isNaN(t))throw new Error("angle is required");return 0===t||(h||(h=(0,n.v)(e)),!1!==f&&void 0!==f||(e=(0,u.o8)(e)),(0,s.Fh)(e,(function(e){var r=(0,o.F)(h,e)+t,n=(0,a.E)(h,e),u=(0,c.$R)((0,i.r)(h,n,r));e[0]=u[0],e[1]=u[1]}))),e}(0,Object.defineProperty)(h,"name",{value:"transformRotate",configurable:!0})}}]);