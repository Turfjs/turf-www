(self.webpackChunkturf_www=self.webpackChunkturf_www||[]).push([[88743],{31152:(e,t,r)=>{"use strict";r.r(t),r.d(t,{Map0:()=>f,assets:()=>d,contentTitle:()=>c,default:()=>y,frontMatter:()=>a,metadata:()=>p,toc:()=>u});var s=r(74848),i=r(28453),n=r(67149),o=r(76431),h=r(36145),l=r(78478);const a={title:"bezierSpline"},c=void 0,p={id:"api/bezierSpline",title:"bezierSpline",description:"Description",source:"@site/versioned_docs/version-7.0.0/api/bezierSpline.mdx",sourceDirName:"api",slug:"/api/bezierSpline",permalink:"/docs/api/bezierSpline",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/versioned_docs/version-7.0.0/api/bezierSpline.mdx",tags:[],version:"7.0.0",frontMatter:{title:"bezierSpline"},sidebar:"apiSidebar",previous:{title:"bboxClip",permalink:"/docs/api/bboxClip"},next:{title:"buffer",permalink:"/docs/api/buffer"}},d={},u=[{value:"Description",id:"description",level:3},{value:"Parameters",id:"parameters",level:3},{value:"Returns",id:"returns",level:3},{value:"Examples",id:"examples",level:3},{value:"Installation",id:"installation",level:3}];function f(){var e=n.wi([[-76.091308,18.427501],[-76.695556,18.729501],[-76.552734,19.40443],[-74.61914,19.134789],[-73.652343,20.07657],[-73.157958,20.210656]]),t=o.v(e),r={line:e,curved:t};return t.properties={stroke:"#0F0"},(0,s.jsx)(h.A,{addToMap:r})}function x(e){const t={a:"a",code:"code",em:"em",h3:"h3",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.h3,{id:"description",children:"Description"}),"\n",(0,s.jsxs)(t.p,{children:["Takes a ",(0,s.jsx)(t.a,{href:"https://tools.ietf.org/html/rfc7946#section-3.1.4",children:"line"})," and returns a curved version\nby applying a ",(0,s.jsx)(t.a,{href:"http://en.wikipedia.org/wiki/B%C3%A9zier_spline",children:"Bezier spline"}),"\nalgorithm."]}),"\n",(0,s.jsxs)(t.p,{children:["The bezier spline implementation is by ",(0,s.jsx)(t.a,{href:"http://leszek.rybicki.cc/",children:"Leszek Rybicki"}),"."]}),"\n",(0,s.jsx)(t.h3,{id:"parameters",children:"Parameters"}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Name"}),(0,s.jsx)(t.th,{children:"Type"}),(0,s.jsx)(t.th,{children:"Description"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"line"}),(0,s.jsx)(t.td,{children:(0,s.jsxs)(t.strong,{children:[(0,s.jsx)(t.a,{href:"https://tools.ietf.org/html/rfc7946#section-3.2",children:"Feature"}),"<",(0,s.jsx)(t.a,{href:"https://tools.ietf.org/html/rfc7946#section-3.1.4",children:"LineString"}),">"]})}),(0,s.jsx)(t.td,{children:"input LineString"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsxs)(t.td,{children:["options",(0,s.jsx)("i",{children:"?"})]}),(0,s.jsx)(t.td,{children:(0,s.jsx)(t.strong,{children:"Object"})}),(0,s.jsxs)(t.td,{children:["Optional parameters ",(0,s.jsx)(t.em,{children:"(default {})"})]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsxs)(t.td,{children:["options.properties",(0,s.jsx)("i",{children:"?"})]}),(0,s.jsx)(t.td,{children:(0,s.jsx)(t.strong,{children:"Object"})}),(0,s.jsxs)(t.td,{children:["Translate properties to output ",(0,s.jsx)(t.em,{children:"(default {})"})]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsxs)(t.td,{children:["options.resolution",(0,s.jsx)("i",{children:"?"})]}),(0,s.jsx)(t.td,{children:(0,s.jsx)(t.strong,{children:"number"})}),(0,s.jsxs)(t.td,{children:["time in milliseconds between points ",(0,s.jsx)(t.em,{children:"(default 10000)"})]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsxs)(t.td,{children:["options.sharpness",(0,s.jsx)("i",{children:"?"})]}),(0,s.jsx)(t.td,{children:(0,s.jsx)(t.strong,{children:"number"})}),(0,s.jsxs)(t.td,{children:["a measure of how curvy the path should be between splines ",(0,s.jsx)(t.em,{children:"(default 0.85)"})]})]})]})]}),"\n",(0,s.jsx)(t.h3,{id:"returns",children:"Returns"}),"\n",(0,s.jsx)("ul",{children:(0,s.jsxs)(t.p,{children:[(0,s.jsxs)(t.strong,{children:[(0,s.jsx)(t.a,{href:"https://tools.ietf.org/html/rfc7946#section-3.2",children:"Feature"}),"<",(0,s.jsx)(t.a,{href:"https://tools.ietf.org/html/rfc7946#section-3.1.4",children:"LineString"}),">"]})," curved line"]})}),"\n",(0,s.jsx)(t.h3,{id:"examples",children:"Examples"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-javascript",children:"var line = turf.lineString([\n  [-76.091308, 18.427501],\n  [-76.695556, 18.729501],\n  [-76.552734, 19.40443],\n  [-74.61914, 19.134789],\n  [-73.652343, 20.07657],\n  [-73.157958, 20.210656],\n]);\n\nvar curved = turf.bezierSpline(line);\n"})}),"\n","\n",(0,s.jsx)(l.A,{children:()=>(0,s.jsx)(f,{})}),"\n",(0,s.jsx)(t.h3,{id:"installation",children:"Installation"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-javascript",children:'$ npm install @turf/bezier-spline\n\nimport { bezierSpline } from "@turf/bezier-spline";\nconst result = bezierSpline(...);\n'})}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-javascript",children:'$ npm install @turf/turf\n\nimport * as turf from "@turf/turf";\nconst result = turf.bezierSpline(...);\n'})})]})}function y(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(x,{...e})}):x(e)}},42634:()=>{},76431:(e,t,r)=>{"use strict";r.d(t,{v:()=>p});var s=r(67149),i=r(83490),n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),h=class{constructor(e){this.points=e.points||[],this.duration=e.duration||1e4,this.sharpness=e.sharpness||.85,this.centers=[],this.controls=[],this.stepLength=e.stepLength||60,this.length=this.points.length,this.delay=0;for(let t=0;t<this.length;t++)this.points[t].z=this.points[t].z||0;for(let t=0;t<this.length-1;t++){const e=this.points[t],r=this.points[t+1];this.centers.push({x:(e.x+r.x)/2,y:(e.y+r.y)/2,z:(e.z+r.z)/2})}this.controls.push([this.points[0],this.points[0]]);for(let t=0;t<this.centers.length-1;t++){const e=this.points[t+1].x-(this.centers[t].x+this.centers[t+1].x)/2,r=this.points[t+1].y-(this.centers[t].y+this.centers[t+1].y)/2,s=this.points[t+1].z-(this.centers[t].y+this.centers[t+1].z)/2;this.controls.push([{x:(1-this.sharpness)*this.points[t+1].x+this.sharpness*(this.centers[t].x+e),y:(1-this.sharpness)*this.points[t+1].y+this.sharpness*(this.centers[t].y+r),z:(1-this.sharpness)*this.points[t+1].z+this.sharpness*(this.centers[t].z+s)},{x:(1-this.sharpness)*this.points[t+1].x+this.sharpness*(this.centers[t+1].x+e),y:(1-this.sharpness)*this.points[t+1].y+this.sharpness*(this.centers[t+1].y+r),z:(1-this.sharpness)*this.points[t+1].z+this.sharpness*(this.centers[t+1].z+s)}])}return this.controls.push([this.points[this.length-1],this.points[this.length-1]]),this.steps=this.cacheSteps(this.stepLength),this}cacheSteps(e){const t=[];let r=this.pos(0);t.push(0);for(let s=0;s<this.duration;s+=10){const i=this.pos(s);Math.sqrt((i.x-r.x)*(i.x-r.x)+(i.y-r.y)*(i.y-r.y)+(i.z-r.z)*(i.z-r.z))>e&&(t.push(s),r=i)}return t}vector(e){const t=this.pos(e+10),r=this.pos(e-10);return{angle:180*Math.atan2(t.y-r.y,t.x-r.x)/3.14,speed:Math.sqrt((r.x-t.x)*(r.x-t.x)+(r.y-t.y)*(r.y-t.y)+(r.z-t.z)*(r.z-t.z))}}pos(e){let t=e-this.delay;t<0&&(t=0),t>this.duration&&(t=this.duration-1);const r=t/this.duration;if(r>=1)return this.points[this.length-1];const s=Math.floor((this.points.length-1)*r);return a((this.length-1)*r-s,this.points[s],this.controls[s][1],this.controls[s+1][0],this.points[s+1])}};o(h,"Spline");var l=h;function a(e,t,r,s,i){const n=c(e);return{x:i.x*n[0]+s.x*n[1]+r.x*n[2]+t.x*n[3],y:i.y*n[0]+s.y*n[1]+r.y*n[2]+t.y*n[3],z:i.z*n[0]+s.z*n[1]+r.z*n[2]+t.z*n[3]}}function c(e){const t=e*e;return[t*e,3*t*(1-e),3*e*(1-e)*(1-e),(1-e)*(1-e)*(1-e)]}function p(e,t={}){const r=t.resolution||1e4,n=t.sharpness||.85,h=[],a=(0,i.bg)(e).coordinates.map((e=>({x:e[0],y:e[1]}))),c=new l({duration:r,points:a,sharpness:n}),p=o((e=>{var t=c.pos(e);Math.floor(e/100)%2==0&&h.push([t.x,t.y])}),"pushCoord");for(var d=0;d<c.duration;d+=10)p(d);return p(c.duration),(0,s.wi)(h,t.properties)}o(a,"bezier"),o(c,"B"),o(p,"bezierSpline")},83490:(e,t,r)=>{"use strict";r.d(t,{$R:()=>h,Pw:()=>p,bg:()=>c,iw:()=>a,mo:()=>l,uG:()=>o});var s=r(67149),i=Object.defineProperty,n=(e,t)=>i(e,"name",{value:t,configurable:!0});function o(e){if(!e)throw new Error("coord is required");if(!Array.isArray(e)){if("Feature"===e.type&&null!==e.geometry&&"Point"===e.geometry.type)return[...e.geometry.coordinates];if("Point"===e.type)return[...e.coordinates]}if(Array.isArray(e)&&e.length>=2&&!Array.isArray(e[0])&&!Array.isArray(e[1]))return[...e];throw new Error("coord must be GeoJSON Point or an Array of numbers")}function h(e){if(Array.isArray(e))return e;if("Feature"===e.type){if(null!==e.geometry)return e.geometry.coordinates}else if(e.coordinates)return e.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function l(e,t,r){if(!e)throw new Error("No feature passed");if(!r)throw new Error(".featureOf() requires a name");if(!e||"Feature"!==e.type||!e.geometry)throw new Error("Invalid input to "+r+", Feature with geometry required");if(!e.geometry||e.geometry.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+e.geometry.type)}function a(e,t,r){if(!e)throw new Error("No featureCollection passed");if(!r)throw new Error(".collectionOf() requires a name");if(!e||"FeatureCollection"!==e.type)throw new Error("Invalid input to "+r+", FeatureCollection required");for(const s of e.features){if(!s||"Feature"!==s.type||!s.geometry)throw new Error("Invalid input to "+r+", Feature with geometry required");if(!s.geometry||s.geometry.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+s.geometry.type)}}function c(e){return"Feature"===e.type?e.geometry:e}function p(e,t){return"FeatureCollection"===e.type?"FeatureCollection":"GeometryCollection"===e.type?"GeometryCollection":"Feature"===e.type&&null!==e.geometry?e.geometry.type:e.type}n(o,"getCoord"),n(h,"getCoords"),n((function e(t){if(t.length>1&&(0,s.Et)(t[0])&&(0,s.Et)(t[1]))return!0;if(Array.isArray(t[0])&&t[0].length)return e(t[0]);throw new Error("coordinates must only contain numbers")}),"containsNumber"),n((function(e,t,r){if(!t||!r)throw new Error("type and name required");if(!e||e.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+e.type)}),"geojsonType"),n(l,"featureOf"),n(a,"collectionOf"),n(c,"getGeom"),n(p,"getType")}}]);