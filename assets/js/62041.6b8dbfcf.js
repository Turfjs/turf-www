(self.webpackChunkturf_www=self.webpackChunkturf_www||[]).push([[62041],{262:function(t){t.exports=function(){"use strict";function t(t,n,o,i,a){!function t(r,n,o,i,a){for(;i>o;){if(i-o>600){var s=i-o+1,h=n-o+1,u=Math.log(s),c=.5*Math.exp(2*u/3),l=.5*Math.sqrt(u*c*(s-c)/s)*(h-s/2<0?-1:1);t(r,n,Math.max(o,Math.floor(n-h*c/s+l)),Math.min(i,Math.floor(n+(s-h)*c/s+l)),a)}var f=r[n],m=o,p=i;for(e(r,o,n),a(r[i],f)>0&&e(r,o,i);m<p;){for(e(r,m,p),m++,p--;a(r[m],f)<0;)m++;for(;a(r[p],f)>0;)p--}0===a(r[o],f)?e(r,o,p):e(r,++p,i),p<=n&&(o=p+1),n<=p&&(i=p-1)}}(t,n,o||0,i||t.length-1,a||r)}function e(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function r(t,e){return t<e?-1:t>e?1:0}var n=function(t){void 0===t&&(t=9),this._maxEntries=Math.max(4,t),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function o(t,e,r){if(!r)return e.indexOf(t);for(var n=0;n<e.length;n++)if(r(t,e[n]))return n;return-1}function i(t,e){a(t,0,t.children.length,e,t)}function a(t,e,r,n,o){o||(o=p(null)),o.minX=1/0,o.minY=1/0,o.maxX=-1/0,o.maxY=-1/0;for(var i=e;i<r;i++){var a=t.children[i];s(o,t.leaf?n(a):a)}return o}function s(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function h(t,e){return t.minX-e.minX}function u(t,e){return t.minY-e.minY}function c(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function l(t){return t.maxX-t.minX+(t.maxY-t.minY)}function f(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function m(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function p(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function d(e,r,n,o,i){for(var a=[r,n];a.length;)if(!((n=a.pop())-(r=a.pop())<=o)){var s=r+Math.ceil((n-r)/o/2)*o;t(e,s,r,n,i),a.push(r,s,s,n)}}return n.prototype.all=function(){return this._all(this.data,[])},n.prototype.search=function(t){var e=this.data,r=[];if(!m(t,e))return r;for(var n=this.toBBox,o=[];e;){for(var i=0;i<e.children.length;i++){var a=e.children[i],s=e.leaf?n(a):a;m(t,s)&&(e.leaf?r.push(a):f(t,s)?this._all(a,r):o.push(a))}e=o.pop()}return r},n.prototype.collides=function(t){var e=this.data;if(!m(t,e))return!1;for(var r=[];e;){for(var n=0;n<e.children.length;n++){var o=e.children[n],i=e.leaf?this.toBBox(o):o;if(m(t,i)){if(e.leaf||f(t,i))return!0;r.push(o)}}e=r.pop()}return!1},n.prototype.load=function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0;e<t.length;e++)this.insert(t[e]);return this}var r=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===r.height)this._splitRoot(this.data,r);else{if(this.data.height<r.height){var n=this.data;this.data=r,r=n}this._insert(r,this.data.height-r.height-1,!0)}else this.data=r;return this},n.prototype.insert=function(t){return t&&this._insert(t,this.data.height-1),this},n.prototype.clear=function(){return this.data=p([]),this},n.prototype.remove=function(t,e){if(!t)return this;for(var r,n,i,a=this.data,s=this.toBBox(t),h=[],u=[];a||h.length;){if(a||(a=h.pop(),n=h[h.length-1],r=u.pop(),i=!0),a.leaf){var c=o(t,a.children,e);if(-1!==c)return a.children.splice(c,1),h.push(a),this._condense(h),this}i||a.leaf||!f(a,s)?n?(r++,a=n.children[r],i=!1):a=null:(h.push(a),u.push(r),r=0,n=a,a=a.children[0])}return this},n.prototype.toBBox=function(t){return t},n.prototype.compareMinX=function(t,e){return t.minX-e.minX},n.prototype.compareMinY=function(t,e){return t.minY-e.minY},n.prototype.toJSON=function(){return this.data},n.prototype.fromJSON=function(t){return this.data=t,this},n.prototype._all=function(t,e){for(var r=[];t;)t.leaf?e.push.apply(e,t.children):r.push.apply(r,t.children),t=r.pop();return e},n.prototype._build=function(t,e,r,n){var o,a=r-e+1,s=this._maxEntries;if(a<=s)return i(o=p(t.slice(e,r+1)),this.toBBox),o;n||(n=Math.ceil(Math.log(a)/Math.log(s)),s=Math.ceil(a/Math.pow(s,n-1))),(o=p([])).leaf=!1,o.height=n;var h=Math.ceil(a/s),u=h*Math.ceil(Math.sqrt(s));d(t,e,r,u,this.compareMinX);for(var c=e;c<=r;c+=u){var l=Math.min(c+u-1,r);d(t,c,l,h,this.compareMinY);for(var f=c;f<=l;f+=h){var m=Math.min(f+h-1,l);o.children.push(this._build(t,f,m,n-1))}}return i(o,this.toBBox),o},n.prototype._chooseSubtree=function(t,e,r,n){for(;n.push(e),!e.leaf&&n.length-1!==r;){for(var o=1/0,i=1/0,a=void 0,s=0;s<e.children.length;s++){var h=e.children[s],u=c(h),l=(f=t,m=h,(Math.max(m.maxX,f.maxX)-Math.min(m.minX,f.minX))*(Math.max(m.maxY,f.maxY)-Math.min(m.minY,f.minY))-u);l<i?(i=l,o=u<o?u:o,a=h):l===i&&u<o&&(o=u,a=h)}e=a||e.children[0]}var f,m;return e},n.prototype._insert=function(t,e,r){var n=r?t:this.toBBox(t),o=[],i=this._chooseSubtree(n,this.data,e,o);for(i.children.push(t),s(i,n);e>=0&&o[e].children.length>this._maxEntries;)this._split(o,e),e--;this._adjustParentBBoxes(n,o,e)},n.prototype._split=function(t,e){var r=t[e],n=r.children.length,o=this._minEntries;this._chooseSplitAxis(r,o,n);var a=this._chooseSplitIndex(r,o,n),s=p(r.children.splice(a,r.children.length-a));s.height=r.height,s.leaf=r.leaf,i(r,this.toBBox),i(s,this.toBBox),e?t[e-1].children.push(s):this._splitRoot(r,s)},n.prototype._splitRoot=function(t,e){this.data=p([t,e]),this.data.height=t.height+1,this.data.leaf=!1,i(this.data,this.toBBox)},n.prototype._chooseSplitIndex=function(t,e,r){for(var n,o,i,s,h,u,l,f=1/0,m=1/0,p=e;p<=r-e;p++){var d=a(t,0,p,this.toBBox),y=a(t,p,r,this.toBBox),g=(o=d,i=y,s=void 0,h=void 0,u=void 0,l=void 0,s=Math.max(o.minX,i.minX),h=Math.max(o.minY,i.minY),u=Math.min(o.maxX,i.maxX),l=Math.min(o.maxY,i.maxY),Math.max(0,u-s)*Math.max(0,l-h)),x=c(d)+c(y);g<f?(f=g,n=p,m=x<m?x:m):g===f&&x<m&&(m=x,n=p)}return n||r-e},n.prototype._chooseSplitAxis=function(t,e,r){var n=t.leaf?this.compareMinX:h,o=t.leaf?this.compareMinY:u;this._allDistMargin(t,e,r,n)<this._allDistMargin(t,e,r,o)&&t.children.sort(n)},n.prototype._allDistMargin=function(t,e,r,n){t.children.sort(n);for(var o=this.toBBox,i=a(t,0,e,o),h=a(t,r-e,r,o),u=l(i)+l(h),c=e;c<r-e;c++){var f=t.children[c];s(i,t.leaf?o(f):f),u+=l(i)}for(var m=r-e-1;m>=e;m--){var p=t.children[m];s(h,t.leaf?o(p):p),u+=l(h)}return u},n.prototype._adjustParentBBoxes=function(t,e,r){for(var n=r;n>=0;n--)s(e[n],t)},n.prototype._condense=function(t){for(var e=t.length-1,r=void 0;e>=0;e--)0===t[e].children.length?e>0?(r=t[e-1].children).splice(r.indexOf(t[e]),1):this.clear():i(t[e],this.toBBox)},n}()},53257:(t,e,r)=>{"use strict";r.d(e,{Rd:()=>s,o8:()=>i});var n=Object.defineProperty,o=(t,e)=>n(t,"name",{value:e,configurable:!0});function i(t){if(!t)throw new Error("geojson is required");switch(t.type){case"Feature":return a(t);case"FeatureCollection":return h(t);case"Point":case"LineString":case"Polygon":case"MultiPoint":case"MultiLineString":case"MultiPolygon":case"GeometryCollection":return u(t);default:throw new Error("unknown GeoJSON type")}}function a(t){const e={type:"Feature"};return Object.keys(t).forEach((r=>{switch(r){case"type":case"properties":case"geometry":return;default:e[r]=t[r]}})),e.properties=s(t.properties),null==t.geometry?e.geometry=null:e.geometry=u(t.geometry),e}function s(t){const e={};return t?(Object.keys(t).forEach((r=>{const n=t[r];"object"==typeof n?null===n?e[r]=null:Array.isArray(n)?e[r]=n.map((t=>t)):e[r]=s(n):e[r]=n})),e):e}function h(t){const e={type:"FeatureCollection"};return Object.keys(t).forEach((r=>{switch(r){case"type":case"features":return;default:e[r]=t[r]}})),e.features=t.features.map((t=>a(t))),e}function u(t){const e={type:t.type};return t.bbox&&(e.bbox=t.bbox),"GeometryCollection"===t.type?(e.geometries=t.geometries.map((t=>u(t))),e):(e.coordinates=c(t.coordinates),e)}function c(t){const e=t;return"object"!=typeof e[0]?e.slice():e.map((t=>c(t)))}o(i,"clone"),o(a,"cloneFeature"),o(s,"cloneProperties"),o(h,"cloneFeatureCollection"),o(u,"cloneGeometry"),o(c,"deepSlice")},72277:(t,e,r)=>{"use strict";r.d(e,{Z:()=>c});var n=r(53257),o=r(18685),i=r(67149),a=r(262),s=Object.defineProperty,h=(t,e)=>s(t,"name",{value:e,configurable:!0}),u=a;function c(t,e,r={}){!0!==r.mutate&&(t=(0,n.o8)(t));const a=r.minPoints||3,s=(0,i.vl)(e,r.units);var c=new u(t.features.length),l=t.features.map((t=>!1)),f=t.features.map((t=>!1)),m=t.features.map((t=>!1)),p=t.features.map((t=>-1));c.load(t.features.map(((t,e)=>{var[r,n]=t.geometry.coordinates;return{minX:r,minY:n,maxX:r,maxY:n,index:e}})));const d=h((r=>{const n=t.features[r],[a,h]=n.geometry.coordinates,u=Math.max(h-s,-90),l=Math.min(h+s,90),f=u<0&&l>0?s:Math.abs(u)<Math.abs(l)?s/Math.cos((0,i.tR)(l)):s/Math.cos((0,i.tR)(u)),m=Math.max(a-f,-360),p=Math.min(a+f,360),d={minX:m,minY:u,maxX:p,maxY:l};return c.search(d).filter((r=>{const i=r.index,a=t.features[i];return(0,o.I)(n,a,{units:"kilometers"})<=e}))}),"regionQuery"),y=h(((t,e)=>{for(var r=0;r<e.length;r++){const n=e[r].index;if(!l[n]){l[n]=!0;const t=d(n);t.length>=a&&e.push(...t)}f[n]||(f[n]=!0,p[n]=t)}}),"expandCluster");var g=0;return t.features.forEach(((t,e)=>{if(l[e])return;const r=d(e);if(r.length>=a){const t=g;g++,l[e]=!0,y(t,r)}else m[e]=!0})),t.features.forEach(((e,r)=>{var n=t.features[r];n.properties||(n.properties={}),p[r]>=0?(n.properties.dbscan=m[r]?"edge":"core",n.properties.cluster=p[r]):n.properties.dbscan="noise"})),t}h(c,"clustersDbscan")},18685:(t,e,r)=>{"use strict";r.d(e,{I:()=>i});var n=r(83490),o=r(67149);function i(t,e,r={}){var i=(0,n.uG)(t),a=(0,n.uG)(e),s=(0,o.tR)(a[1]-i[1]),h=(0,o.tR)(a[0]-i[0]),u=(0,o.tR)(i[1]),c=(0,o.tR)(a[1]),l=Math.pow(Math.sin(s/2),2)+Math.pow(Math.sin(h/2),2)*Math.cos(u)*Math.cos(c);return(0,o.cJ)(2*Math.atan2(Math.sqrt(l),Math.sqrt(1-l)),r.units)}(0,Object.defineProperty)(i,"name",{value:"distance",configurable:!0})},83490:(t,e,r)=>{"use strict";r.d(e,{$R:()=>s,Pw:()=>l,bg:()=>c,iw:()=>u,mo:()=>h,uG:()=>a});var n=r(67149),o=Object.defineProperty,i=(t,e)=>o(t,"name",{value:e,configurable:!0});function a(t){if(!t)throw new Error("coord is required");if(!Array.isArray(t)){if("Feature"===t.type&&null!==t.geometry&&"Point"===t.geometry.type)return[...t.geometry.coordinates];if("Point"===t.type)return[...t.coordinates]}if(Array.isArray(t)&&t.length>=2&&!Array.isArray(t[0])&&!Array.isArray(t[1]))return[...t];throw new Error("coord must be GeoJSON Point or an Array of numbers")}function s(t){if(Array.isArray(t))return t;if("Feature"===t.type){if(null!==t.geometry)return t.geometry.coordinates}else if(t.coordinates)return t.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function h(t,e,r){if(!t)throw new Error("No feature passed");if(!r)throw new Error(".featureOf() requires a name");if(!t||"Feature"!==t.type||!t.geometry)throw new Error("Invalid input to "+r+", Feature with geometry required");if(!t.geometry||t.geometry.type!==e)throw new Error("Invalid input to "+r+": must be a "+e+", given "+t.geometry.type)}function u(t,e,r){if(!t)throw new Error("No featureCollection passed");if(!r)throw new Error(".collectionOf() requires a name");if(!t||"FeatureCollection"!==t.type)throw new Error("Invalid input to "+r+", FeatureCollection required");for(const n of t.features){if(!n||"Feature"!==n.type||!n.geometry)throw new Error("Invalid input to "+r+", Feature with geometry required");if(!n.geometry||n.geometry.type!==e)throw new Error("Invalid input to "+r+": must be a "+e+", given "+n.geometry.type)}}function c(t){return"Feature"===t.type?t.geometry:t}function l(t,e){return"FeatureCollection"===t.type?"FeatureCollection":"GeometryCollection"===t.type?"GeometryCollection":"Feature"===t.type&&null!==t.geometry?t.geometry.type:t.type}i(a,"getCoord"),i(s,"getCoords"),i((function t(e){if(e.length>1&&(0,n.Et)(e[0])&&(0,n.Et)(e[1]))return!0;if(Array.isArray(e[0])&&e[0].length)return t(e[0]);throw new Error("coordinates must only contain numbers")}),"containsNumber"),i((function(t,e,r){if(!e||!r)throw new Error("type and name required");if(!t||t.type!==e)throw new Error("Invalid input to "+r+": must be a "+e+", given "+t.type)}),"geojsonType"),i(h,"featureOf"),i(u,"collectionOf"),i(c,"getGeom"),i(l,"getType")},84245:(t,e,r)=>{"use strict";r.d(e,{_e:()=>h});var n=r(67149),o=Object.defineProperty,i=(t,e)=>o(t,"name",{value:e,configurable:!0});function a(t){return Array.isArray(t)?m(t):t&&t.bbox?m(t.bbox):[l(),f()]}function s(t){null!=t&&(Array.isArray(t)?(0,n.O6)(t):null!=t.bbox&&(0,n.O6)(t.bbox))}function h(t,e={}){s(e.bbox),null==t&&(t=1);const r=[];for(let o=0;o<t;o++)r.push((0,n.zx)(a(e.bbox)));return(0,n.Lr)(r)}function u(t){return e=>[e[0]+t[0],e[1]+t[1]]}function c(){return Math.random()-.5}function l(){return 360*c()}function f(){return 180*c()}function m(t){return[Math.random()*(t[2]-t[0])+t[0],Math.random()*(t[3]-t[1])+t[1]]}i((function(t){return s(t),a(t)}),"randomPosition"),i(a,"randomPositionUnchecked"),i(s,"checkBBox"),i(h,"randomPoint"),i((function(t,e={}){s(e.bbox),null==t&&(t=1),(0,n.Et)(e.num_vertices)&&void 0!==e.num_vertices||(e.num_vertices=10),(0,n.Et)(e.max_radial_length)&&void 0!==e.max_radial_length||(e.max_radial_length=10);const r=[];for(let o=0;o<t;o++){let t=[];const o=[...Array(e.num_vertices+1)].map(Math.random);o.forEach(((t,e,r)=>{r[e]=e>0?t+r[e-1]:t})),o.forEach((r=>{r=2*r*Math.PI/o[o.length-1];const n=Math.random();t.push([n*(e.max_radial_length||10)*Math.sin(r),n*(e.max_radial_length||10)*Math.cos(r)])})),t[t.length-1]=t[0],t=t.map(u(a(e.bbox))),r.push((0,n.n1)([t]))}return(0,n.Lr)(r)}),"randomPolygon"),i((function(t,e={}){if(e=e||{},!(0,n.Gv)(e))throw new Error("options is invalid");const r=e.bbox;s(r);let o=e.num_vertices,i=e.max_length,h=e.max_rotation;null==t&&(t=1),(!(0,n.Et)(o)||void 0===o||o<2)&&(o=10),(0,n.Et)(i)&&void 0!==i||(i=1e-4),(0,n.Et)(h)&&void 0!==h||(h=Math.PI/8);const u=[];for(let s=0;s<t;s++){const t=[a(r)];for(let e=0;e<o-1;e++){const r=(0===e?2*Math.random()*Math.PI:Math.tan((t[e][1]-t[e-1][1])/(t[e][0]-t[e-1][0])))+(Math.random()-.5)*h*2,n=Math.random()*i;t.push([t[e][0]+n*Math.cos(r),t[e][1]+n*Math.sin(r)])}u.push((0,n.wi)(t))}return(0,n.Lr)(u)}),"randomLineString"),i(u,"vertexToCoordinate"),i(c,"rnd"),i(l,"lon"),i(f,"lat"),i(m,"coordInBBox")}}]);