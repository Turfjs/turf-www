/*! For license information please see e6a5e032.a13435a4.js.LICENSE.txt */
(self.webpackChunkturf_www=self.webpackChunkturf_www||[]).push([[19132],{1992:(e,t,r)=>{"use strict";r.r(t),r.d(t,{Map0:()=>f,assets:()=>p,contentTitle:()=>c,default:()=>m,frontMatter:()=>h,metadata:()=>d,toc:()=>u});var i=r(74848),n=r(28453),s=r(67149),o=r(41760),a=r(36145),l=r(78478);const h={title:"greatCircle"},c=void 0,d={id:"api/greatCircle",title:"greatCircle",description:"Description",source:"@site/docs/api/greatCircle.mdx",sourceDirName:"api",slug:"/api/greatCircle",permalink:"/docs/next/api/greatCircle",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/api/greatCircle.mdx",tags:[],version:"current",frontMatter:{title:"greatCircle"},sidebar:"apiSidebar",previous:{title:"envelope",permalink:"/docs/next/api/envelope"},next:{title:"length",permalink:"/docs/next/api/length"}},p={},u=[{value:"Description",id:"description",level:3},{value:"Parameters",id:"parameters",level:3},{value:"Returns",id:"returns",level:3},{value:"Examples",id:"examples",level:3},{value:"Installation",id:"installation",level:3}];function f(){var e=s.zx([-122,48]),t=s.zx([-77,39]),r={start:e,end:t,greatCircle:o.G(e,t,{properties:{name:"Seattle to DC"}})};return(0,i.jsx)(a.A,{addToMap:r})}function g(e){const t={a:"a",code:"code",em:"em",h3:"h3",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,n.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.h3,{id:"description",children:"Description"}),"\n",(0,i.jsxs)(t.p,{children:["Calculate great circles routes as ",(0,i.jsx)(t.a,{href:"https://tools.ietf.org/html/rfc7946#section-3.1.4",children:"LineString"})," or ",(0,i.jsx)(t.a,{href:"https://tools.ietf.org/html/rfc7946#section-3.1.5",children:"MultiLineString"}),".\nIf the ",(0,i.jsx)(t.code,{children:"start"})," and ",(0,i.jsx)(t.code,{children:"end"})," points span the antimeridian, the resulting feature will\nbe split into a ",(0,i.jsx)(t.code,{children:"MultiLineString"}),"."]}),"\n",(0,i.jsx)(t.h3,{id:"parameters",children:"Parameters"}),"\n",(0,i.jsxs)(t.table,{children:[(0,i.jsx)(t.thead,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.th,{children:"Name"}),(0,i.jsx)(t.th,{children:"Type"}),(0,i.jsx)(t.th,{children:"Description"})]})}),(0,i.jsxs)(t.tbody,{children:[(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"start"}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.strong,{children:(0,i.jsx)(t.a,{href:"https://tools.ietf.org/html/rfc7946#section-3.1.1",children:"Coord"})})}),(0,i.jsx)(t.td,{children:"source point feature"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"end"}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.strong,{children:(0,i.jsx)(t.a,{href:"https://tools.ietf.org/html/rfc7946#section-3.1.1",children:"Coord"})})}),(0,i.jsx)(t.td,{children:"destination point feature"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsxs)(t.td,{children:["options",(0,i.jsx)("i",{children:"?"})]}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.strong,{children:"Object"})}),(0,i.jsxs)(t.td,{children:["Optional parameters ",(0,i.jsx)(t.em,{children:"(default {})"})]})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsxs)(t.td,{children:["options.properties",(0,i.jsx)("i",{children:"?"})]}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.strong,{children:"Object"})}),(0,i.jsxs)(t.td,{children:["line feature properties ",(0,i.jsx)(t.em,{children:"(default {})"})]})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsxs)(t.td,{children:["options.npoints",(0,i.jsx)("i",{children:"?"})]}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.strong,{children:"number"})}),(0,i.jsxs)(t.td,{children:["number of points ",(0,i.jsx)(t.em,{children:"(default 100)"})]})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsxs)(t.td,{children:["options.offset",(0,i.jsx)("i",{children:"?"})]}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.strong,{children:"number"})}),(0,i.jsxs)(t.td,{children:["offset controls the likelyhood that lines will be split which cross the dateline. The higher the number the more likely. ",(0,i.jsx)(t.em,{children:"(default 10)"})]})]})]})]}),"\n",(0,i.jsx)(t.h3,{id:"returns",children:"Returns"}),"\n",(0,i.jsx)("ul",{children:(0,i.jsxs)(t.p,{children:[(0,i.jsxs)(t.strong,{children:[(0,i.jsx)(t.a,{href:"https://tools.ietf.org/html/rfc7946#section-3.2",children:"Feature"}),"<",(0,i.jsx)(t.a,{href:"https://tools.ietf.org/html/rfc7946#section-3.1.4",children:"LineString"})," | ",(0,i.jsx)(t.a,{href:"https://tools.ietf.org/html/rfc7946#section-3.1.5",children:"MultiLineString"}),">"]})," great circle line feature"]})}),"\n",(0,i.jsx)(t.h3,{id:"examples",children:"Examples"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-javascript",children:'var start = turf.point([-122, 48]);\nvar end = turf.point([-77, 39]);\n\nvar greatCircle = turf.greatCircle(start, end, {\n  properties: { name: "Seattle to DC" },\n});\n'})}),"\n","\n",(0,i.jsx)(l.A,{children:()=>(0,i.jsx)(f,{})}),"\n",(0,i.jsx)(t.h3,{id:"installation",children:"Installation"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-javascript",children:'$ npm install @turf/great-circle\n\nimport { greatCircle } from "@turf/great-circle";\nconst result = greatCircle(...);\n'})}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-javascript",children:'$ npm install @turf/turf\n\nimport * as turf from "@turf/turf";\nconst result = turf.greatCircle(...);\n'})})]})}function m(e={}){const{wrapper:t}={...(0,n.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(g,{...e})}):g(e)}},42634:()=>{},41760:(e,t,r)=>{"use strict";r.d(t,{G:()=>p});var i=r(83490),n=Object.defineProperty,s=(e,t)=>n(e,"name",{value:t,configurable:!0}),o=Math.PI/180,a=180/Math.PI,l=s((function(e,t){this.lon=e,this.lat=t,this.x=o*e,this.y=o*t}),"Coord");l.prototype.view=function(){return String(this.lon).slice(0,4)+","+String(this.lat).slice(0,4)},l.prototype.antipode=function(){var e=-1*this.lat,t=this.lon<0?180+this.lon:-1*(180-this.lon);return new l(t,e)};var h=s((function(){this.coords=[],this.length=0}),"LineString");h.prototype.move_to=function(e){this.length++,this.coords.push(e)};var c=s((function(e){this.properties=e||{},this.geometries=[]}),"Arc");c.prototype.json=function(){if(this.geometries.length<=0)return{geometry:{type:"LineString",coordinates:null},type:"Feature",properties:this.properties};if(1===this.geometries.length)return{geometry:{type:"LineString",coordinates:this.geometries[0].coords},type:"Feature",properties:this.properties};for(var e=[],t=0;t<this.geometries.length;t++)e.push(this.geometries[t].coords);return{geometry:{type:"MultiLineString",coordinates:e},type:"Feature",properties:this.properties}},c.prototype.wkt=function(){for(var e="",t="LINESTRING(",r=s((function(e){t+=e[0]+" "+e[1]+","}),"collect"),i=0;i<this.geometries.length;i++){if(0===this.geometries[i].coords.length)return"LINESTRING(empty)";this.geometries[i].coords.forEach(r),e+=t.substring(0,t.length-1)+")"}return e};var d=s((function(e,t,r){if(!e||void 0===e.x||void 0===e.y)throw new Error("GreatCircle constructor expects two args: start and end objects with x and y properties");if(!t||void 0===t.x||void 0===t.y)throw new Error("GreatCircle constructor expects two args: start and end objects with x and y properties");this.start=new l(e.x,e.y),this.end=new l(t.x,t.y),this.properties=r||{};var i=this.start.x-this.end.x,n=this.start.y-this.end.y,s=Math.pow(Math.sin(n/2),2)+Math.cos(this.start.y)*Math.cos(this.end.y)*Math.pow(Math.sin(i/2),2);if(this.g=2*Math.asin(Math.sqrt(s)),this.g===Math.PI)throw new Error("it appears "+e.view()+" and "+t.view()+" are 'antipodal', e.g diametrically opposite, thus there is no single route but rather infinite");if(isNaN(this.g))throw new Error("could not calculate great circle between "+e+" and "+t)}),"GreatCircle");function p(e,t,r){if("object"!=typeof(r=r||{}))throw new Error("options is invalid");var n=r.properties,s=r.npoints,o=r.offset;return e=(0,i.uG)(e),t=(0,i.uG)(t),n=n||{},s=s||100,o=o||10,new d({x:e[0],y:e[1]},{x:t[0],y:t[1]},n).Arc(s,{offset:o}).json()}d.prototype.interpolate=function(e){var t=Math.sin((1-e)*this.g)/Math.sin(this.g),r=Math.sin(e*this.g)/Math.sin(this.g),i=t*Math.cos(this.start.y)*Math.cos(this.start.x)+r*Math.cos(this.end.y)*Math.cos(this.end.x),n=t*Math.cos(this.start.y)*Math.sin(this.start.x)+r*Math.cos(this.end.y)*Math.sin(this.end.x),s=t*Math.sin(this.start.y)+r*Math.sin(this.end.y),o=a*Math.atan2(s,Math.sqrt(Math.pow(i,2)+Math.pow(n,2)));return[a*Math.atan2(n,i),o]},d.prototype.Arc=function(e,t){var r=[];if(!e||e<=2)r.push([this.start.lon,this.start.lat]),r.push([this.end.lon,this.end.lat]);else for(var i=1/(e-1),n=0;n<e;++n){var s=i*n,o=this.interpolate(s);r.push(o)}for(var a=!1,l=0,d=t&&t.offset?t.offset:10,p=180-d,u=-180+d,f=360-d,g=1;g<r.length;++g){var m=r[g-1][0],x=r[g][0],y=Math.abs(x-m);y>f&&(x>p&&m<u||m>p&&x<u)?a=!0:y>l&&(l=y)}var j=[];if(a&&l<d){var w=[];j.push(w);for(var v=0;v<r.length;++v){var b=parseFloat(r[v][0]);if(v>0&&Math.abs(b-r[v-1][0])>f){var M=parseFloat(r[v-1][0]),C=parseFloat(r[v-1][1]),E=parseFloat(r[v][0]),F=parseFloat(r[v][1]);if(M>-180&&M<u&&180===E&&v+1<r.length&&r[v-1][0]>-180&&r[v-1][0]<u){w.push([-180,r[v][1]]),v++,w.push([r[v][0],r[v][1]]);continue}if(M>p&&M<180&&-180===E&&v+1<r.length&&r[v-1][0]>p&&r[v-1][0]<180){w.push([180,r[v][1]]),v++,w.push([r[v][0],r[v][1]]);continue}if(M<u&&E>p){var A=M;M=E,E=A;var S=C;C=F,F=S}if(M>p&&E<u&&(E+=360),M<=180&&E>=180&&M<E){var G=(180-M)/(E-M),I=G*F+(1-G)*C;w.push([r[v-1][0]>p?180:-180,I]),(w=[]).push([r[v-1][0]>p?-180:180,I]),j.push(w)}else w=[],j.push(w);w.push([b,r[v][1]])}else w.push([r[v][0],r[v][1]])}}else{var N=[];j.push(N);for(var k=0;k<r.length;++k)N.push([r[k][0],r[k][1]])}for(var O=new c(this.properties),L=0;L<j.length;++L){var P=new h;O.geometries.push(P);for(var q=j[L],T=0;T<q.length;++T)P.move_to(q[T])}return O},s(p,"greatCircle")},83490:(e,t,r)=>{"use strict";r.d(t,{$R:()=>a,Pw:()=>d,bg:()=>c,iw:()=>h,mo:()=>l,uG:()=>o});var i=r(67149),n=Object.defineProperty,s=(e,t)=>n(e,"name",{value:t,configurable:!0});function o(e){if(!e)throw new Error("coord is required");if(!Array.isArray(e)){if("Feature"===e.type&&null!==e.geometry&&"Point"===e.geometry.type)return[...e.geometry.coordinates];if("Point"===e.type)return[...e.coordinates]}if(Array.isArray(e)&&e.length>=2&&!Array.isArray(e[0])&&!Array.isArray(e[1]))return[...e];throw new Error("coord must be GeoJSON Point or an Array of numbers")}function a(e){if(Array.isArray(e))return e;if("Feature"===e.type){if(null!==e.geometry)return e.geometry.coordinates}else if(e.coordinates)return e.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function l(e,t,r){if(!e)throw new Error("No feature passed");if(!r)throw new Error(".featureOf() requires a name");if(!e||"Feature"!==e.type||!e.geometry)throw new Error("Invalid input to "+r+", Feature with geometry required");if(!e.geometry||e.geometry.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+e.geometry.type)}function h(e,t,r){if(!e)throw new Error("No featureCollection passed");if(!r)throw new Error(".collectionOf() requires a name");if(!e||"FeatureCollection"!==e.type)throw new Error("Invalid input to "+r+", FeatureCollection required");for(const i of e.features){if(!i||"Feature"!==i.type||!i.geometry)throw new Error("Invalid input to "+r+", Feature with geometry required");if(!i.geometry||i.geometry.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+i.geometry.type)}}function c(e){return"Feature"===e.type?e.geometry:e}function d(e,t){return"FeatureCollection"===e.type?"FeatureCollection":"GeometryCollection"===e.type?"GeometryCollection":"Feature"===e.type&&null!==e.geometry?e.geometry.type:e.type}s(o,"getCoord"),s(a,"getCoords"),s((function e(t){if(t.length>1&&(0,i.Et)(t[0])&&(0,i.Et)(t[1]))return!0;if(Array.isArray(t[0])&&t[0].length)return e(t[0]);throw new Error("coordinates must only contain numbers")}),"containsNumber"),s((function(e,t,r){if(!t||!r)throw new Error("type and name required");if(!e||e.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+e.type)}),"geojsonType"),s(l,"featureOf"),s(h,"collectionOf"),s(c,"getGeom"),s(d,"getType")}}]);