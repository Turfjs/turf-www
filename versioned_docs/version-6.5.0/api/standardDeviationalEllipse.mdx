---
title: standardDeviationalEllipse
---

import * as turf from "turf-6";
import ExampleMap from "@site/src/components/ExampleMap";
import WindowTurfGlobal from "@site/src/components/WindowTurfGlobal";
import BrowserOnly from "@docusaurus/BrowserOnly";

<!-- Expose turf as global var for experimenting in the browser console -->

<BrowserOnly>{() => <WindowTurfGlobal turf={turf} />}</BrowserOnly>

### Description

Takes a [FeatureCollection](https://tools.ietf.org/html/rfc7946#section-3.3) and returns a standard deviational ellipse,
also known as a “directional distribution.” The standard deviational ellipse
aims to show the direction and the distribution of a dataset by drawing
an ellipse that contains about one standard deviation’s worth (~ 70%) of the
data.

This module mirrors the functionality of [Directional Distribution](http://desktop.arcgis.com/en/arcmap/10.3/tools/spatial-statistics-toolbox/directional-distribution.htm)
in ArcGIS and the [QGIS Standard Deviational Ellipse Plugin](http://arken.nmbu.no/~havatv/gis/qgisplugins/SDEllipse/)

**Bibliography**

• Robert S. Yuill, “The Standard Deviational Ellipse; An Updated Tool for
Spatial Description,” _Geografiska Annaler_ 53, no. 1 (1971): 28–39,
doi:[10.2307/490885](https://doi.org/10.2307/490885).

• Paul Hanly Furfey, “A Note on Lefever’s “Standard Deviational Ellipse,”
_American Journal of Sociology_ 33, no. 1 (1927): 94—98,
doi:[10.1086/214336](https://doi.org/10.1086/214336).

### Parameters

| Name                       | Type                                                                                                                                  | Description                                                 |
| -------------------------- | ------------------------------------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------- |
| points                     | **[FeatureCollection](https://tools.ietf.org/html/rfc7946#section-3.3)\<[Point](https://tools.ietf.org/html/rfc7946#section-3.1.2)>** | GeoJSON points                                              |
| options<i>?</i>            | **Object**                                                                                                                            | Optional parameters _(default \{})_                         |
| options.weight<i>?</i>     | **string**                                                                                                                            | the property name used to weight the center                 |
| options.steps<i>?</i>      | **number**                                                                                                                            | number of steps for the polygon _(default 64)_              |
| options.properties<i>?</i> | **Object**                                                                                                                            | properties to pass to the resulting ellipse _(default \{})_ |

### Returns

<ul>
  **[Feature](https://tools.ietf.org/html/rfc7946#section-3.2)\<[Polygon](https://tools.ietf.org/html/rfc7946#section-3.1.6)>** an elliptical Polygon that includes approximately 1 SD of the dataset within it.

</ul>

### Examples

```javascript
var bbox = [-74, 40.72, -73.98, 40.74];
var points = turf.randomPoint(400, { bbox: bbox });
var sdEllipse = turf.standardDeviationalEllipse(points);
```

export function Map0() {
  "use strict";

  // jsdoc example start
  var bbox = [-74, 40.72, -73.98, 40.74];
  var points = turf.randomPoint(400, { bbox: bbox });
  var sdEllipse = turf.standardDeviationalEllipse(points);

  //addToMap
  var addToMap = { points, sdEllipse };
  // jsdoc example end

  return <ExampleMap addToMap={addToMap} />;
}

<!-- prettier-ignore -->
<BrowserOnly>{() => <Map0 />}</BrowserOnly>

### Installation

```javascript
$ npm install @turf/standard-deviational-ellipse

import { standardDeviationalEllipse } from "@turf/standard-deviational-ellipse";
const result = standardDeviationalEllipse(...);
```

```javascript
$ npm install @turf/turf

import * as turf from "@turf/turf";
const result = turf.standardDeviationalEllipse(...);
```
